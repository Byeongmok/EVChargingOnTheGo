import numpy as np

class State():
    def __init__(self):
        self.electricityArray = np.array([0,0.017,0.034,0.051,0.068,0.085,0.102,0.119,0.136,0.153,0.17,
                                            0.187,0.204,0.221,0.238,0.255,0.272,0.289,0.306,0.323,0.34,
                                            0.357,0.374,0.391,0.408,0.425,0.442,0.459,0.476,0.493,0.51,
                                            0.527,0.544,0.561,0.578,0.595,0.612,0.629,0.646,0.663,0.68,
                                            0.697,0.714,0.731,0.748,0.765,0.782,0.799,0.816,0.833,0.85,
                                            0.867,0.884,0.901,0.918,0.935,0.952,0.969,0.986,1.003,1.02,
                                            1.037,1.054,1.071,1.088,1.105,1.122,1.139,1.156,1.173,1.19,
                                            1.207,1.224,1.241,1.258,1.275,1.292,1.309,1.326,1.343,1.36,
                                            1.377,1.394,1.411,1.428,1.445,1.462,1.479,1.496,1.513,1.53,
                                            1.547,1.564,1.581,1.598,1.615,1.632,1.649,1.666,1.683,1.7,
                                            1.717,1.734,1.751,1.768,1.785,1.802,1.819,1.836,1.853,1.87,
                                            1.887,1.904,1.921,1.938,1.955,1.972,1.989,2.006,2.023,2.04,
                                            2.057,2.074,2.091,2.108,2.125,2.142,2.159,2.176,2.193,2.21,
                                            2.227,2.244,2.261,2.278,2.295,2.312,2.329,2.346,2.363,2.38,
                                            2.397,2.414,2.431,2.448,2.465,2.482,2.499,2.516,2.533,2.55,
                                            2.567,2.584,2.601,2.618,2.635,2.652,2.669,2.686,2.703,2.72,
                                            2.737,2.754,2.771,2.788,2.805,2.822,2.839,2.856,2.873,2.89,
                                            2.907,2.924,2.941,2.958,2.975,2.992,3.009,3.026,3.043,3.06,
                                            3.077,3.094,3.111,3.128,3.145,3.162,3.179,3.196,3.213,3.23,
                                            3.247,3.264,3.281,3.298,3.315,3.332,3.349,3.366,3.383,3.4,
                                            3.417,3.434,3.451,3.468,3.485,3.502,3.519,3.536,3.553,3.57,
                                            3.587,3.604,3.621,3.638,3.655,3.672,3.689,3.706,3.723,3.74,
                                            3.757,3.774,3.791,3.808,3.825,3.842,3.859,3.876,3.893,3.91,
                                            3.927,3.944,3.961,3.978,3.995,4.012,4.029,4.046,4.063,4.08,
                                            4.097,4.114,4.131,4.148,4.165,4.182,4.199,4.216,4.233,4.25,
                                            4.267,4.284,4.301,4.318,4.335,4.352,4.369,4.386,4.403,4.42,
                                            4.437,4.454,4.471,4.488,4.505,4.522,4.539,4.556,4.573,4.59,
                                            4.607,4.624,4.641,4.658,4.675,4.692,4.709,4.726,4.743,4.76,
                                            4.777,4.794,4.811,4.828,4.845,4.862,4.879,4.896,4.913,4.93,
                                            4.947,4.964,4.981,4.998,5.015,5.032,5.049,5.066,5.083,5.1,
                                            5.117,5.134,5.151,5.168,5.185,5.202,5.219,5.236,5.253,5.27,
                                            5.287,5.304,5.321,5.338,5.355,5.372,5.389,5.406,5.423,5.44,
                                            5.457,5.474,5.491,5.508,5.525,5.542,5.559,5.576,5.593,5.61,
                                            5.627,5.644,5.661,5.678,5.695,5.712,5.729,5.746,5.763,5.78,
                                            5.797,5.814,5.831,5.848,5.865,5.882,5.899,5.916,5.933,5.95,
                                            5.967,5.984,6.001,6.018,6.035,6.052,6.069,6.086,6.103,6.12,
                                            6.137,6.154,6.171,6.188,6.205,6.222,6.239,6.256,6.273,6.29,
                                            6.307,6.324,6.341,6.358,6.375,6.392,6.409,6.426,6.443,6.46,
                                            6.477,6.494,6.511,6.528,6.545,6.562,6.579,6.596,6.613,6.63,
                                            6.647,6.664,6.681,6.698,6.715,6.732,6.749,6.766,6.783,6.8,
                                            6.817,6.834,6.851,6.868,6.885,6.902,6.919,6.936,6.953,6.97,
                                            6.987,7.004,7.021,7.038,7.055,7.072,7.089,7.106,7.123,7.14,
                                            7.157,7.174,7.191,7.208,7.225,7.242,7.259,7.276,7.293,7.31,
                                            7.327,7.344,7.361,7.378,7.395,7.412,7.429,7.446,7.463,7.48,
                                            7.497,7.514,7.531,7.548,7.565,7.582,7.599,7.616,7.633,7.65,
                                            7.667,7.684,7.701,7.718,7.735,7.752,7.769,7.786,7.803,7.82,
                                            7.837,7.854,7.871,7.888,7.905,7.922,7.939,7.956,7.973,7.99,
                                            8.007,8.024,8.041,8.058,8.075,8.092,8.109,8.126,8.143,8.16,
                                            8.177,8.194,8.211,8.228,8.245,8.262,8.279,8.296,8.313,8.33,
                                            8.347,8.364,8.381,8.398,8.415,8.432,8.449,8.466,8.483,8.5,
                                            8.517,8.534,8.551,8.568,8.585,8.602,8.619,8.636,8.653,8.67,
                                            8.687,8.704,8.721,8.738,8.755,8.772,8.789,8.806,8.823,8.84,
                                            8.857,8.874,8.891,8.908,8.925,8.942,8.959,8.976,8.993,9.01,
                                            9.027,9.044,9.061,9.078,9.095,9.112,9.129,9.146,9.163,9.18,
                                            9.197,9.214,9.231,9.248,9.265,9.282,9.299,9.316,9.333,9.35,
                                            9.367,9.384,9.401,9.418,9.435,9.452,9.469,9.486,9.503,9.52,
                                            9.537,9.554,9.571,9.588,9.605,9.622,9.639,9.656,9.673,9.69,
                                            9.707,9.724,9.741,9.758,9.775,9.792,9.809,9.826,9.843,9.86,
                                            9.877,9.894,9.911,9.928,9.945,9.962,9.979,9.996,10.013,10.03,
                                            10.047,10.064,10.081,10.098,10.115,10.132,10.149,10.166,
                                            10.183,10.2,10.217,10.234,10.251,10.268,10.285,10.302,10.319,
                                            10.336,10.353,10.37,10.387,10.404,10.421,10.438,10.455,10.472,
                                            10.489,10.506,10.523,10.54,10.557,10.574,10.591,10.608,10.625,
                                            10.642,10.659,10.676,10.693,10.71,10.727,10.744,10.761,10.778,
                                            10.795,10.812,10.829,10.846,10.863,10.88,10.897,10.914,10.931,
                                            10.948,10.965,10.982,10.999,11.016,11.033,11.05,11.067,11.084,
                                            11.101,11.118,11.135,11.152,11.169,11.186,11.203,11.22,11.237,
                                            11.254,11.271,11.288,11.305,11.322,11.339,11.356,11.373,11.39,
                                            11.407,11.424,11.441,11.458,11.475,11.492,11.509,11.526,11.543,
                                            11.56,11.577,11.594,11.611,11.628,11.645,11.662,11.679,11.696,
                                            11.713,11.73,11.747,11.764,11.781,11.798,11.815,11.832,11.849,
                                            11.866,11.883,11.9,11.917,11.934,11.951,11.968,11.985,12.002,
                                            12.019,12.036,12.053,12.07,12.087,12.104,12.121,12.138,12.155,
                                            12.172,12.189,12.206,12.223,12.24,12.257,12.274,12.291,12.308,
                                            12.325,12.342,12.359,12.376,12.393,12.41,12.427,12.444,12.461,
                                            12.478,12.495,12.512,12.529,12.546,12.563,12.58,12.597,12.614,
                                            12.631,12.648,12.665,12.682,12.699,12.716,12.733,12.75,12.767,
                                            12.784,12.801,12.818,12.835,12.852,12.869,12.886,12.903,12.92,
                                            12.937,12.954,12.971,12.988,13.005,13.022,13.039,13.056,13.073,
                                            13.09,13.107,13.124,13.141,13.158,13.175,13.192,13.209,13.226,
                                            13.243,13.26,13.277,13.294,13.311,13.328,13.345,13.362,13.379,
                                            13.396,13.413,13.43,13.447,13.464,13.481,13.498,13.515,13.532,
                                            13.549,13.566,13.583,13.6,13.617,13.634,13.651,13.668,13.685,
                                            13.702,13.719,13.736,13.753,13.77,13.787,13.804,13.821,13.838,
                                            13.855,13.872,13.889,13.906,13.923,13.94,13.957,13.974,13.991,
                                            14.008,14.025,14.042,14.059,14.076,14.093,14.11,14.127,14.144,
                                            14.161,14.178,14.195,14.212,14.229,14.246,14.263,14.28,14.297,
                                            14.314,14.331,14.348,14.365,14.382,14.399,14.416,14.433,14.45,
                                            14.467,14.484,14.501,14.518,14.535,14.552,14.569,14.586,14.603,
                                            14.62,14.637,14.654,14.671,14.688,14.705,14.722,14.739,14.756,
                                            14.773,14.79,14.807,14.824,14.841,14.858,14.875,14.892,14.909,
                                            14.926,14.943,14.96,14.977,14.994,15.011,15.028,15.045,15.062,
                                            15.079,15.096,15.113,15.13,15.147,15.164,15.181,15.198,15.215,
                                            15.232,15.249,15.266,15.283,15.3,15.317,15.334,15.351,15.368,
                                            15.385,15.402,15.419,15.436,15.453,15.47,15.487,15.504,15.521,
                                            15.538,15.555,15.572,15.589,15.606,15.623,15.64,15.657,15.674,
                                            15.691,15.708,15.725,15.742,15.759,15.776,15.793,15.81,15.827,
                                            15.844,15.861,15.878,15.895,15.912,15.929,15.946,15.963,15.98,
                                            15.997,16.014,16.031,16.048,16.065,16.082,16.099,16.116,16.133,
                                            16.15,16.167,16.184,16.201,16.218,16.235,16.252,16.269,16.286,
                                            16.303,16.32,16.337,16.354,16.371,16.388,16.405])
        
        
        
        
        
    def Discretized(self, electricity):
        # state space
        state = 9999
        for i in range(len(self.electricityArray) - 1):
            if i == 0:
                if electricity >= self.electricityArray[i] and electricity <= self.electricityArray[i + 1]:
                    state = (i + 1)
                    break
                
            else:
                if electricity > self.electricityArray[i] and electricity <= self.electricityArray[i + 1]:
                    state = (i + 1)
                    break
        
        if state == 9999:
            print('charging demand가 UAV의 battery capacity보다 큼')
        
        return state